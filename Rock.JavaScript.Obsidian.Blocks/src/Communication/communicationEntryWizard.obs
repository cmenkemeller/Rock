<!-- Copyright by the Spark Development Network; Licensed under the Rock Community License -->
<template>
    <Panel :hasFullscreen="true"
           :headerSecondaryActions="[{
               title: 'TBD', type: 'default'
           }]"
           title="Email Editor"
           panelClass="communication-entry-wizard-editor-panel">
        <template #title="{ title }">
            <div class="communication-entry-wizard-editor-panel-title">
                {{ title }}
                <HighlightLabel>1234 Recipients</HighlightLabel>
            </div>
        </template>

        <template #subheaderRight>
            <div>
                <RockButton class="communication-entry-wizard-editor-subheader-action" btnSize="xs">Send Test</RockButton>
                <RockButton class="communication-entry-wizard-editor-subheader-action" btnSize="xs">Preview</RockButton>
                <RockButton class="communication-entry-wizard-editor-subheader-action" btnSize="xs">Save</RockButton>
            </div>
        </template>

        <template #default>
            <div class="communication-entry-wizard-editor-panel-body">
                <div class="communication-entry-wizard-editor-toolbox">
                    <div class="communication-entry-wizard-editor-toolbox-menu">

                    </div>

                    <div class="communication-entry-wizard-editor-toolbox-submenu">
                        <TabbedContent v-model="toolboxSubMenuTab" :tabs="toolboxSubMenuTabs">
                            <template #tabpane="{ item }">
                                <div v-if="item === 'Components'" class="component-list">
                                    <div class="component-list-item"><i class="fa fa-font"></i>Title</div>
                                    <div class="component-list-item"><i class="fa fa-video"></i>Video</div>
                                    <div class="component-list-item"><i class="fa fa-square"></i>Button</div>
                                    <div class="component-list-item"><i class="fa fa-paragraph"></i>Paragraph</div>
                                    <div class="component-list-item"><i class="fa fa-ellipsis-h"></i>Divider</div>
                                    <div class="component-list-item"><i class="fa fa-user"></i>Message</div>
                                    <div class="component-list-item"><i class="fa fa-image"></i>Image</div>
                                    <div class="component-list-item"><i class="fa fa-code"></i>Lava</div>
                                    <div class="component-list-item"><i class="fa fa-check-square"></i>RSVP</div>
                                </div>
                            </template>
                        </TabbedContent>
                    </div>
                </div>

                <iframe>

                </iframe>
            </div>
        </template>

        <template #footerActions>
            <RockButton>Previous</RockButton>
        </template>

        <template #footerSecondaryActions>
            <RockButton btnType="primary">Next</RockButton>
        </template>
    </Panel>
</template>

<style scoped>
.component-list {
    columns: 3;
}

.component-list-item {
    display: flex;
    flex-direction: column;
    width: 86px;
    height: 74px;
    text-align: center;
    align-items: center;
    border: 1px solid;
    border-color: var(--color-primary);
}

.communication-entry-wizard-editor-toolbox {
    display: flex;
    flex-wrap: wrap;
}

.communication-entry-wizard-editor-toolbox-menu {
    display: flex;
    flex-direction: column;
}

.communication-entry-wizard-editor-toolbox-submenu {
    display: flex;
    flex-direction: column;
    width: 300px;
}

.communication-entry-wizard-editor-panel-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.communication-entry-wizard-editor-subheader-action + .communication-entry-wizard-editor-subheader-action {
    margin-left: 16px;
}

.communication-entry-wizard-editor-panel-body {
    min-height: 300px;
    height: 462px;
}
</style>

<script setup lang="ts">
    import { computed, ref } from "vue";
    import HighlightLabel from "@Obsidian/Controls/highlightLabel.obs";
    import Panel from "@Obsidian/Controls/panel.obs";
    import RockButton from "@Obsidian/Controls/rockButton.obs";
    import TabbedBar from "@Obsidian/Controls/tabbedBar.obs";
    import TabbedContent from "@Obsidian/Controls/tabbedContent.obs";

    const toolboxSubMenuTab = ref<string>("");

    const toolboxSubMenuTabs = computed(() => {
        return [
            "Components",
            "Sections"
        ];
    });
</script>
